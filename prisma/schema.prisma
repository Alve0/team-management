
generator client {
  provider = "prisma-client"
  output   = "../lib/generated/prisma"
}

datasource db {
  provider = "mongodb"
  
}

model User{
  id String @id @default(auto()) @map("_id") @db.ObjectId
  email String @unique 
  role UserRole @default(user)
  project Project[]
  created_at DateTime @default(now())
  last_login DateTime @default(now())

}
model Project {
    id String @id @default(auto()) @map("_id") @db.ObjectId
    userId String @db.ObjectId
    user   User   @relation(fields: [userId], references: [id])
    role ProjectRole @default(worker)
}

enum UserRole {
  admin
  user
}
enum ProjectRole {
  owner
  manager
  worker
}